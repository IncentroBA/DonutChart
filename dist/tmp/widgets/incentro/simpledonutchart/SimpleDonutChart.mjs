import { useState, useRef, useEffect, createElement } from 'react';

function styleInject(css, ref) {
  if (ref === void 0) ref = {};
  var insertAt = ref.insertAt;

  if (!css || typeof document === 'undefined') {
    return;
  }

  var head = document.head || document.getElementsByTagName('head')[0];
  var style = document.createElement('style');
  style.type = 'text/css';

  if (insertAt === 'top') {
    if (head.firstChild) {
      head.insertBefore(style, head.firstChild);
    } else {
      head.appendChild(style);
    }
  } else {
    head.appendChild(style);
  }

  if (style.styleSheet) {
    style.styleSheet.cssText = css;
  } else {
    style.appendChild(document.createTextNode(css));
  }
}

var css_248z = ".simple-donut-chart-widget {\n    align-items: center;\n    display: flex;\n    margin-bottom: 24px;\n    position: relative;\n}\n\n.simple-donut-chart-widget .chart-container {\n    position: relative;\n}\n\n.simple-donut-chart-widget .donut-percentage {\n    border-radius: 50%;\n    position: absolute;\n    pointer-events: none;\n    text-align: center;\n    top: 50%;\n    left: 50%;\n    height: 86%;\n    width: 86%;\n    transform-origin: 0 0;\n}\n\n.simple-donut-chart-widget .donut-percentage span {\n    display: inline-block;\n}\n\n.simple-donut-chart-widget .donut {\n    align-items: center;\n    display: flex;\n    flex: 1;\n    height: 100%;\n    justify-content: center;\n    margin-right: 16px;\n    width: 100%;\n}\n\n.simple-donut-chart-widget .donut-slice {\n    transition: stroke-width 0.2s ease;\n    cursor: pointer;\n}\n\n.simple-donut-chart-widget .simple-donut-chart-info {\n    position: relative;\n}\n\n.simple-donut-chart-widget .donutchart-total {\n    font-weight: 700;\n    line-height: 1;\n}\n\n.simple-donut-chart-widget .donutchart-legend {\n    margin-bottom: 30px;\n    padding: 0;\n    display: flex;\n    flex-direction: column;\n    width: max-content;\n}\n\n.simple-donut-chart-widget .donutchart-legend p:first-of-type {\n    flex: 1;\n}\n\n.simple-donut-chart-widget .donutchart-legend li {\n    align-items: center;\n    display: flex;\n    list-style: none;\n}\n\n.simple-donut-chart-widget .donutchart-legend li:hover {\n    cursor: pointer;\n}\n\n.simple-donut-chart-widget .donutchart-legend p {\n    margin: 0;\n}\n\n.simple-donut-chart-widget .donutchart-legend span {\n    border-radius: 50px;\n    display: block;\n    height: 16px;\n    margin-right: 8px;\n    width: 16px;\n}\n\n.simple-donut-chart-widget .donutchart-value {\n    padding-left: 16px;\n}\n\n.simple-donut-chart-widget .donutchart-chart {\n    align-self: center;\n    display: flex;\n    grid-template-columns: repeat(100, 1fr);\n    grid-auto-flow: column;\n    margin: 0;\n    padding: 0;\n}\n\n.simple-donut-chart-widget .donutchart-chart li {\n    list-style: none;\n    min-height: 20px;\n    position: relative;\n}\n\n.simple-donut-chart-widget .donutchart-chart.donutchart-chart--rounded li:first-of-type {\n    border-top-left-radius: 50px;\n    border-bottom-left-radius: 50px;\n}\n\n.simple-donut-chart-widget .donutchart-chart.donutchart-chart--rounded li:last-of-type {\n    border-top-right-radius: 50px;\n    border-bottom-right-radius: 50px;\n}\n\n.simple-donut-chart-widget .donutchart-chart li:hover {\n    cursor: pointer;\n}\n\n.simple-donut-chart-widget .donutchart-legend li .donutchart-tooltip {\n    background-color: white;\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.3);\n    border-radius: 4px;\n    display: flex;\n    left: var(--x);\n    opacity: 0;\n    padding: 4px 8px;\n    position: fixed;\n    pointer-events: none;\n    transition: opacity 0.2s ease, transform 0.2s ease;\n    top: var(--y);\n    will-change: opacity;\n    width: max-content;\n    z-index: 1;\n}\n\n.simple-donut-chart-widget .donutchart-legend li .donutchart-tooltip.show-tooltip {\n    opacity: 1;\n    transform: translateY(-60%);\n}\n\n.simple-donut-chart-widget .donutchart-chart li .donutchart-tooltip p {\n    margin: 0;\n    padding: 4px 8px;\n}\n\n.simple-donut-chart-widget .donutchart-meter {\n    border-top: solid 1px black;\n    display: flex;\n    justify-content: space-between;\n}\n\n.simple-donut-chart-widget .donutchart-meter .item {\n    background-color: black;\n    height: 9px;\n    width: 1px;\n}\n\n.simple-donut-chart-widget .donutchart-indicators {\n    display: flex;\n}\n\n.simple-donut-chart-widget .donutchart-indicator {\n    flex: 1;\n}\n\n.simple-donut-chart-widget .donutchart-indicator:nth-child(2) {\n    text-align: center;\n}\n\n.simple-donut-chart-widget .donutchart-indicator:last-of-type {\n    text-align: right;\n}\n\n.simple-donut-chart-widget .donutchart-tooltip {\n    position: absolute;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNpbXBsZURvbnV0Q2hhcnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksbUJBQW1CO0lBQ25CLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixvQkFBb0I7SUFDcEIsa0JBQWtCO0lBQ2xCLFFBQVE7SUFDUixTQUFTO0lBQ1QsV0FBVztJQUNYLFVBQVU7SUFDVixxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsYUFBYTtJQUNiLE9BQU87SUFDUCxZQUFZO0lBQ1osdUJBQXVCO0lBQ3ZCLGtCQUFrQjtJQUNsQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxrQ0FBa0M7SUFDbEMsZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLFVBQVU7SUFDVixhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLE9BQU87QUFDWDs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixhQUFhO0lBQ2IsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksZUFBZTtBQUNuQjs7QUFFQTtJQUNJLFNBQVM7QUFDYjs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixjQUFjO0lBQ2QsWUFBWTtJQUNaLGlCQUFpQjtJQUNqQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsYUFBYTtJQUNiLHVDQUF1QztJQUN2QyxzQkFBc0I7SUFDdEIsU0FBUztJQUNULFVBQVU7QUFDZDs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixnQkFBZ0I7SUFDaEIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksNEJBQTRCO0lBQzVCLCtCQUErQjtBQUNuQzs7QUFFQTtJQUNJLDZCQUE2QjtJQUM3QixnQ0FBZ0M7QUFDcEM7O0FBRUE7SUFDSSxlQUFlO0FBQ25COztBQUVBO0lBQ0ksdUJBQXVCO0lBQ3ZCLDBDQUEwQztJQUMxQyxrQkFBa0I7SUFDbEIsYUFBYTtJQUNiLGNBQWM7SUFDZCxVQUFVO0lBQ1YsZ0JBQWdCO0lBQ2hCLGVBQWU7SUFDZixvQkFBb0I7SUFDcEIsa0RBQWtEO0lBQ2xELGFBQWE7SUFDYixvQkFBb0I7SUFDcEIsa0JBQWtCO0lBQ2xCLFVBQVU7QUFDZDs7QUFFQTtJQUNJLFVBQVU7SUFDViwyQkFBMkI7QUFDL0I7O0FBRUE7SUFDSSxTQUFTO0lBQ1QsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksMkJBQTJCO0lBQzNCLGFBQWE7SUFDYiw4QkFBOEI7QUFDbEM7O0FBRUE7SUFDSSx1QkFBdUI7SUFDdkIsV0FBVztJQUNYLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxPQUFPO0FBQ1g7O0FBRUE7SUFDSSxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxrQkFBa0I7QUFDdEIiLCJmaWxlIjoiU2ltcGxlRG9udXRDaGFydC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc2ltcGxlLWRvbnV0LWNoYXJ0LXdpZGdldCB7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIG1hcmdpbi1ib3R0b206IDI0cHg7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4uc2ltcGxlLWRvbnV0LWNoYXJ0LXdpZGdldCAuY2hhcnQtY29udGFpbmVyIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi5zaW1wbGUtZG9udXQtY2hhcnQtd2lkZ2V0IC5kb251dC1wZXJjZW50YWdlIHtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB0b3A6IDUwJTtcbiAgICBsZWZ0OiA1MCU7XG4gICAgaGVpZ2h0OiA4NiU7XG4gICAgd2lkdGg6IDg2JTtcbiAgICB0cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XG59XG5cbi5zaW1wbGUtZG9udXQtY2hhcnQtd2lkZ2V0IC5kb251dC1wZXJjZW50YWdlIHNwYW4ge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cblxuLnNpbXBsZS1kb251dC1jaGFydC13aWRnZXQgLmRvbnV0IHtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleDogMTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgbWFyZ2luLXJpZ2h0OiAxNnB4O1xuICAgIHdpZHRoOiAxMDAlO1xufVxuXG4uc2ltcGxlLWRvbnV0LWNoYXJ0LXdpZGdldCAuZG9udXQtc2xpY2Uge1xuICAgIHRyYW5zaXRpb246IHN0cm9rZS13aWR0aCAwLjJzIGVhc2U7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4uc2ltcGxlLWRvbnV0LWNoYXJ0LXdpZGdldCAuc2ltcGxlLWRvbnV0LWNoYXJ0LWluZm8ge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLnNpbXBsZS1kb251dC1jaGFydC13aWRnZXQgLmRvbnV0Y2hhcnQtdG90YWwge1xuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XG4gICAgbGluZS1oZWlnaHQ6IDE7XG59XG5cbi5zaW1wbGUtZG9udXQtY2hhcnQtd2lkZ2V0IC5kb251dGNoYXJ0LWxlZ2VuZCB7XG4gICAgbWFyZ2luLWJvdHRvbTogMzBweDtcbiAgICBwYWRkaW5nOiAwO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICB3aWR0aDogbWF4LWNvbnRlbnQ7XG59XG5cbi5zaW1wbGUtZG9udXQtY2hhcnQtd2lkZ2V0IC5kb251dGNoYXJ0LWxlZ2VuZCBwOmZpcnN0LW9mLXR5cGUge1xuICAgIGZsZXg6IDE7XG59XG5cbi5zaW1wbGUtZG9udXQtY2hhcnQtd2lkZ2V0IC5kb251dGNoYXJ0LWxlZ2VuZCBsaSB7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XG59XG5cbi5zaW1wbGUtZG9udXQtY2hhcnQtd2lkZ2V0IC5kb251dGNoYXJ0LWxlZ2VuZCBsaTpob3ZlciB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4uc2ltcGxlLWRvbnV0LWNoYXJ0LXdpZGdldCAuZG9udXRjaGFydC1sZWdlbmQgcCB7XG4gICAgbWFyZ2luOiAwO1xufVxuXG4uc2ltcGxlLWRvbnV0LWNoYXJ0LXdpZGdldCAuZG9udXRjaGFydC1sZWdlbmQgc3BhbiB7XG4gICAgYm9yZGVyLXJhZGl1czogNTBweDtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBoZWlnaHQ6IDE2cHg7XG4gICAgbWFyZ2luLXJpZ2h0OiA4cHg7XG4gICAgd2lkdGg6IDE2cHg7XG59XG5cbi5zaW1wbGUtZG9udXQtY2hhcnQtd2lkZ2V0IC5kb251dGNoYXJ0LXZhbHVlIHtcbiAgICBwYWRkaW5nLWxlZnQ6IDE2cHg7XG59XG5cbi5zaW1wbGUtZG9udXQtY2hhcnQtd2lkZ2V0IC5kb251dGNoYXJ0LWNoYXJ0IHtcbiAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMDAsIDFmcik7XG4gICAgZ3JpZC1hdXRvLWZsb3c6IGNvbHVtbjtcbiAgICBtYXJnaW46IDA7XG4gICAgcGFkZGluZzogMDtcbn1cblxuLnNpbXBsZS1kb251dC1jaGFydC13aWRnZXQgLmRvbnV0Y2hhcnQtY2hhcnQgbGkge1xuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XG4gICAgbWluLWhlaWdodDogMjBweDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi5zaW1wbGUtZG9udXQtY2hhcnQtd2lkZ2V0IC5kb251dGNoYXJ0LWNoYXJ0LmRvbnV0Y2hhcnQtY2hhcnQtLXJvdW5kZWQgbGk6Zmlyc3Qtb2YtdHlwZSB7XG4gICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogNTBweDtcbiAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiA1MHB4O1xufVxuXG4uc2ltcGxlLWRvbnV0LWNoYXJ0LXdpZGdldCAuZG9udXRjaGFydC1jaGFydC5kb251dGNoYXJ0LWNoYXJ0LS1yb3VuZGVkIGxpOmxhc3Qtb2YtdHlwZSB7XG4gICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDUwcHg7XG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDUwcHg7XG59XG5cbi5zaW1wbGUtZG9udXQtY2hhcnQtd2lkZ2V0IC5kb251dGNoYXJ0LWNoYXJ0IGxpOmhvdmVyIHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5zaW1wbGUtZG9udXQtY2hhcnQtd2lkZ2V0IC5kb251dGNoYXJ0LWxlZ2VuZCBsaSAuZG9udXRjaGFydC10b29sdGlwIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICBib3gtc2hhZG93OiAwIDJweCAycHggMCByZ2JhKDAsIDAsIDAsIDAuMyk7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgbGVmdDogdmFyKC0teCk7XG4gICAgb3BhY2l0eTogMDtcbiAgICBwYWRkaW5nOiA0cHggOHB4O1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMnMgZWFzZSwgdHJhbnNmb3JtIDAuMnMgZWFzZTtcbiAgICB0b3A6IHZhcigtLXkpO1xuICAgIHdpbGwtY2hhbmdlOiBvcGFjaXR5O1xuICAgIHdpZHRoOiBtYXgtY29udGVudDtcbiAgICB6LWluZGV4OiAxO1xufVxuXG4uc2ltcGxlLWRvbnV0LWNoYXJ0LXdpZGdldCAuZG9udXRjaGFydC1sZWdlbmQgbGkgLmRvbnV0Y2hhcnQtdG9vbHRpcC5zaG93LXRvb2x0aXAge1xuICAgIG9wYWNpdHk6IDE7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC02MCUpO1xufVxuXG4uc2ltcGxlLWRvbnV0LWNoYXJ0LXdpZGdldCAuZG9udXRjaGFydC1jaGFydCBsaSAuZG9udXRjaGFydC10b29sdGlwIHAge1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiA0cHggOHB4O1xufVxuXG4uc2ltcGxlLWRvbnV0LWNoYXJ0LXdpZGdldCAuZG9udXRjaGFydC1tZXRlciB7XG4gICAgYm9yZGVyLXRvcDogc29saWQgMXB4IGJsYWNrO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xufVxuXG4uc2ltcGxlLWRvbnV0LWNoYXJ0LXdpZGdldCAuZG9udXRjaGFydC1tZXRlciAuaXRlbSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XG4gICAgaGVpZ2h0OiA5cHg7XG4gICAgd2lkdGg6IDFweDtcbn1cblxuLnNpbXBsZS1kb251dC1jaGFydC13aWRnZXQgLmRvbnV0Y2hhcnQtaW5kaWNhdG9ycyB7XG4gICAgZGlzcGxheTogZmxleDtcbn1cblxuLnNpbXBsZS1kb251dC1jaGFydC13aWRnZXQgLmRvbnV0Y2hhcnQtaW5kaWNhdG9yIHtcbiAgICBmbGV4OiAxO1xufVxuXG4uc2ltcGxlLWRvbnV0LWNoYXJ0LXdpZGdldCAuZG9udXRjaGFydC1pbmRpY2F0b3I6bnRoLWNoaWxkKDIpIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5zaW1wbGUtZG9udXQtY2hhcnQtd2lkZ2V0IC5kb251dGNoYXJ0LWluZGljYXRvcjpsYXN0LW9mLXR5cGUge1xuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xufVxuXG4uc2ltcGxlLWRvbnV0LWNoYXJ0LXdpZGdldCAuZG9udXRjaGFydC10b29sdGlwIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG59XG4iXX0= */";
styleInject(css_248z);

function SimpleDonutChart({
  buttonAction,
  context,
  chartValue,
  colors,
  customSortOrder,
  chartName,
  displayPercentages,
  displayTotal,
  displayValues,
  legendTitle,
  sortAttribute,
  sortOrder,
  unit,
  unitPosition
}) {
  const [canRender, setCanRender] = useState(false);
  const containerRef = useRef([]);
  const tooltipRef = useRef([]);
  const colorArray = ["#003f5c", "#665191", "#a05195", "#d45087", "#f95d6a", "#ff7c43", "#ffa600"];
  const [total, setTotal] = useState(0);
  const strokeWidth = 4;
  const percentageRotate = [];
  let currentIndex = 0;
  let preSegmentsTotalLength = 0;
  let sortInstrs = [];

  function setTooltipPosition(event) {
    const cursorSize = 32 / 2;
    const x = event.pageX + cursorSize;
    const y = event.pageY - cursorSize;
    tooltipRef.current[currentIndex].style.setProperty("--x", `${x}px`);
    tooltipRef.current[currentIndex].style.setProperty("--y", `${y}px`);
  }

  function getChartNumberValue(index) {
    const rawValue = chartValue.get(context.items[index]).displayValue;
    return Number(rawValue.replace(/,/g, "."));
  }

  function showHghlightPart(currentContainer) {
    currentContainer.style.strokeWidth = strokeWidth + 2;
  }

  function hideHighlightPart(currentContainer) {
    currentContainer.style.strokeWidth = null;
  }

  function showTooltip(index, currentContainer) {
    tooltipRef.current[index].classList.add("show-tooltip");
    currentIndex = index;
    showHghlightPart(currentContainer);
    document.addEventListener("mousemove", setTooltipPosition);
  }

  function hideTooltip(index, currentContainer) {
    tooltipRef.current[index].classList.remove("show-tooltip");
    currentIndex = 0;
    hideHighlightPart(currentContainer);
    document.removeEventListener("mousemove", setTooltipPosition);
  }

  function calcTotal() {
    const totals = [];
    context.items.map((item, index) => totals.push(getChartNumberValue(index)));
    setTotal(totals.reduce((a, b) => a + b, 0));
  }

  function setSortOrder() {
    if (!customSortOrder && sortAttribute === "chartName" && chartName.sortable) {
      sortInstrs = [[chartName.id, sortOrder]];
    } else if (!customSortOrder && sortAttribute === "chartValue" && chartValue.sortable) {
      sortInstrs = [[chartValue.id, sortOrder]];
    } else if (customSortOrder && customSortOrder.sortable) {
      sortInstrs = [[customSortOrder.id, sortOrder]];
    }

    context.setSortOrder(sortInstrs);
  }

  function onClick(index) {
    const donutAction = buttonAction.get(context.items[index]);

    if (donutAction && donutAction.canExecute) {
      donutAction.execute();
    }
  }

  function segmentTotalLength(index, startAngle) {
    const thisTotal = preSegmentsTotalLength * 360 / total + startAngle;
    preSegmentsTotalLength += getChartNumberValue(index);
    return thisTotal;
  }

  function rotatePercentage(index) {
    const thisTotal = segmentTotalLength(index, 0) + getChartNumberValue(index) * 360 / total / 2;
    percentageRotate.push(thisTotal);
    return thisTotal;
  }

  function getTextColor(bgColor) {
    var color = bgColor.charAt(0) === "#" ? bgColor.substring(1, 7) : bgColor;
    var r = parseInt(color.substring(0, 2), 16); // hexToR

    var g = parseInt(color.substring(2, 4), 16); // hexToG

    var b = parseInt(color.substring(4, 6), 16); // hexToB

    return r * 0.299 + g * 0.587 + b * 0.114 > 186 ? "#000" : "#fff";
  }

  useEffect(() => {
    if (context && context.status === "available" && context.items.length > 0) {
      setSortOrder();
      calcTotal();
    }
  });
  useEffect(() => {
    if (context && context.status === "available" && context.items.length > 0) {
      setCanRender(true);
    }
  }, [context, colors]);

  if (canRender) {
    const radius = 15.91549430918952;
    const circumference = 2 * Math.PI * radius;
    return createElement("div", {
      className: "simple-donut-chart-widget"
    }, createElement("div", {
      className: "chart-container"
    }, displayPercentages && createElement("div", {
      className: "donut-percentages"
    }, context.items.map((item, index) => createElement("div", {
      key: item,
      className: "donut-percentage",
      style: {
        transform: `rotate(${rotatePercentage(index)}deg) translate(-50%, -50%)`
      }
    }, createElement("span", {
      style: {
        transform: `rotate(-${percentageRotate[index]}deg)`,
        color: colors[index] ? getTextColor(colors[index].value) : getTextColor(colorArray[index])
      }
    }, getChartNumberValue(index) / total * 100 >= 5 && `${Math.round(getChartNumberValue(index) / total * 100)}%`)))), createElement("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "donut",
      viewBox: "0 0 40 40",
      preserveAspectRatio: "xMinYMin meet"
    }, context.items.map((item, index) => createElement("circle", {
      key: item,
      ref: element => containerRef.current[index] = element,
      name: `simpledonutchart-index-${index}`,
      onMouseEnter: () => showTooltip(index, containerRef.current[index]),
      onMouseLeave: () => hideTooltip(index, containerRef.current[index]),
      onClick: () => buttonAction && onClick(index),
      cx: "20",
      cy: "20",
      className: "donut-slice",
      r: radius,
      strokeWidth: strokeWidth,
      stroke: `var(--donutchart-color-${[index]}, ${colors[index] ? colors[index].value : colorArray[index]})`,
      strokeDasharray: circumference,
      strokeDashoffset: circumference - circumference * getChartNumberValue(index) / total,
      transform: `rotate(${segmentTotalLength(index, -90)} 20 20)`,
      fill: "none"
    })))), createElement("div", {
      className: "simple-donut-chart-info"
    }, (displayTotal || legendTitle) && createElement("p", {
      className: "donutchart-total text-large"
    }, displayTotal && unitPosition === "before" && unit && unit, legendTitle && legendTitle.status === "available" && `${legendTitle.value} `, displayTotal && total, displayTotal && unitPosition === "after" && unit && unit), createElement("ul", {
      className: `donutchart-legend`
    }, context.items.map((item, index) => createElement("li", {
      key: item,
      name: `donutchart-legend-index-${index}`,
      onMouseEnter: () => showHghlightPart(containerRef.current[index]),
      onMouseLeave: () => hideHighlightPart(containerRef.current[index])
    }, createElement("span", {
      style: {
        backgroundColor: `var(--donutchart-color-${[index]}, ${colors[index] ? colors[index].value : colorArray[index]})`
      }
    }), createElement("p", null, chartName.get(context.items[index]).displayValue), displayValues && createElement("p", {
      className: "donutchart-value"
    }, unitPosition === "before" && unit && unit, chartValue.get(context.items[index]).displayValue, unitPosition === "after" && unit && unit), createElement("div", {
      className: "donutchart-tooltip",
      ref: element => tooltipRef.current[index] = element
    }, createElement("p", null, chartName.get(context.items[index]).displayValue), displayValues && createElement("p", {
      className: "donutchart-value"
    }, unitPosition === "before" && unit && unit, chartValue.get(context.items[index]).displayValue, unitPosition === "after" && unit && unit)))))));
  } else {
    return createElement("div", {
      className: "donutchart-widget"
    });
  }
}

export { SimpleDonutChart as default };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2ltcGxlRG9udXRDaGFydC5tanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1pbmplY3QvZGlzdC9zdHlsZS1pbmplY3QuZXMuanMiLCIuLi8uLi8uLi8uLi8uLi9zcmMvU2ltcGxlRG9udXRDaGFydC5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gc3R5bGVJbmplY3QoY3NzLCByZWYpIHtcbiAgaWYgKCByZWYgPT09IHZvaWQgMCApIHJlZiA9IHt9O1xuICB2YXIgaW5zZXJ0QXQgPSByZWYuaW5zZXJ0QXQ7XG5cbiAgaWYgKCFjc3MgfHwgdHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykgeyByZXR1cm47IH1cblxuICB2YXIgaGVhZCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgc3R5bGUudHlwZSA9ICd0ZXh0L2Nzcyc7XG5cbiAgaWYgKGluc2VydEF0ID09PSAndG9wJykge1xuICAgIGlmIChoZWFkLmZpcnN0Q2hpbGQpIHtcbiAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBoZWFkLmZpcnN0Q2hpbGQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBzdHlsZUluamVjdDtcbiIsImltcG9ydCBcIi4vdWkvU2ltcGxlRG9udXRDaGFydC5jc3NcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTaW1wbGVEb251dENoYXJ0KHtcbiAgICBidXR0b25BY3Rpb24sXG4gICAgY29udGV4dCxcbiAgICBjaGFydFZhbHVlLFxuICAgIGNvbG9ycyxcbiAgICBjdXN0b21Tb3J0T3JkZXIsXG4gICAgY2hhcnROYW1lLFxuICAgIGRpc3BsYXlQZXJjZW50YWdlcyxcbiAgICBkaXNwbGF5VG90YWwsXG4gICAgZGlzcGxheVZhbHVlcyxcbiAgICBsZWdlbmRUaXRsZSxcbiAgICBzb3J0QXR0cmlidXRlLFxuICAgIHNvcnRPcmRlcixcbiAgICB1bml0LFxuICAgIHVuaXRQb3NpdGlvblxufSkge1xuICAgIGNvbnN0IFtjYW5SZW5kZXIsIHNldENhblJlbmRlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmKFtdKTtcbiAgICBjb25zdCB0b29sdGlwUmVmID0gdXNlUmVmKFtdKTtcbiAgICBjb25zdCBjb2xvckFycmF5ID0gW1wiIzAwM2Y1Y1wiLCBcIiM2NjUxOTFcIiwgXCIjYTA1MTk1XCIsIFwiI2Q0NTA4N1wiLCBcIiNmOTVkNmFcIiwgXCIjZmY3YzQzXCIsIFwiI2ZmYTYwMFwiXTtcbiAgICBjb25zdCBbdG90YWwsIHNldFRvdGFsXSA9IHVzZVN0YXRlKDApO1xuICAgIGNvbnN0IHN0cm9rZVdpZHRoID0gNDtcbiAgICBjb25zdCBwZXJjZW50YWdlUm90YXRlID0gW107XG4gICAgbGV0IGN1cnJlbnRJbmRleCA9IDA7XG4gICAgbGV0IHByZVNlZ21lbnRzVG90YWxMZW5ndGggPSAwO1xuICAgIGxldCBzb3J0SW5zdHJzID0gW107XG5cbiAgICBmdW5jdGlvbiBzZXRUb29sdGlwUG9zaXRpb24oZXZlbnQpIHtcbiAgICAgICAgY29uc3QgY3Vyc29yU2l6ZSA9IDMyIC8gMjtcbiAgICAgICAgY29uc3QgeCA9IGV2ZW50LnBhZ2VYICsgY3Vyc29yU2l6ZTtcbiAgICAgICAgY29uc3QgeSA9IGV2ZW50LnBhZ2VZIC0gY3Vyc29yU2l6ZTtcbiAgICAgICAgdG9vbHRpcFJlZi5jdXJyZW50W2N1cnJlbnRJbmRleF0uc3R5bGUuc2V0UHJvcGVydHkoXCItLXhcIiwgYCR7eH1weGApO1xuICAgICAgICB0b29sdGlwUmVmLmN1cnJlbnRbY3VycmVudEluZGV4XS5zdHlsZS5zZXRQcm9wZXJ0eShcIi0teVwiLCBgJHt5fXB4YCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Q2hhcnROdW1iZXJWYWx1ZShpbmRleCkge1xuICAgICAgICBjb25zdCByYXdWYWx1ZSA9IGNoYXJ0VmFsdWUuZ2V0KGNvbnRleHQuaXRlbXNbaW5kZXhdKS5kaXNwbGF5VmFsdWU7XG4gICAgICAgIHJldHVybiBOdW1iZXIocmF3VmFsdWUucmVwbGFjZSgvLC9nLCBcIi5cIikpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNob3dIZ2hsaWdodFBhcnQoY3VycmVudENvbnRhaW5lcikge1xuICAgICAgICBjdXJyZW50Q29udGFpbmVyLnN0eWxlLnN0cm9rZVdpZHRoID0gc3Ryb2tlV2lkdGggKyAyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhpZGVIaWdobGlnaHRQYXJ0KGN1cnJlbnRDb250YWluZXIpIHtcbiAgICAgICAgY3VycmVudENvbnRhaW5lci5zdHlsZS5zdHJva2VXaWR0aCA9IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2hvd1Rvb2x0aXAoaW5kZXgsIGN1cnJlbnRDb250YWluZXIpIHtcbiAgICAgICAgdG9vbHRpcFJlZi5jdXJyZW50W2luZGV4XS5jbGFzc0xpc3QuYWRkKFwic2hvdy10b29sdGlwXCIpO1xuICAgICAgICBjdXJyZW50SW5kZXggPSBpbmRleDtcbiAgICAgICAgc2hvd0hnaGxpZ2h0UGFydChjdXJyZW50Q29udGFpbmVyKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBzZXRUb29sdGlwUG9zaXRpb24pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhpZGVUb29sdGlwKGluZGV4LCBjdXJyZW50Q29udGFpbmVyKSB7XG4gICAgICAgIHRvb2x0aXBSZWYuY3VycmVudFtpbmRleF0uY2xhc3NMaXN0LnJlbW92ZShcInNob3ctdG9vbHRpcFwiKTtcbiAgICAgICAgY3VycmVudEluZGV4ID0gMDtcbiAgICAgICAgaGlkZUhpZ2hsaWdodFBhcnQoY3VycmVudENvbnRhaW5lcik7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgc2V0VG9vbHRpcFBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxjVG90YWwoKSB7XG4gICAgICAgIGNvbnN0IHRvdGFscyA9IFtdO1xuICAgICAgICBjb250ZXh0Lml0ZW1zLm1hcCgoaXRlbSwgaW5kZXgpID0+IHRvdGFscy5wdXNoKGdldENoYXJ0TnVtYmVyVmFsdWUoaW5kZXgpKSk7XG4gICAgICAgIHNldFRvdGFsKHRvdGFscy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0U29ydE9yZGVyKCkge1xuICAgICAgICBpZiAoIWN1c3RvbVNvcnRPcmRlciAmJiBzb3J0QXR0cmlidXRlID09PSBcImNoYXJ0TmFtZVwiICYmIGNoYXJ0TmFtZS5zb3J0YWJsZSkge1xuICAgICAgICAgICAgc29ydEluc3RycyA9IFtbY2hhcnROYW1lLmlkLCBzb3J0T3JkZXJdXTtcbiAgICAgICAgfSBlbHNlIGlmICghY3VzdG9tU29ydE9yZGVyICYmIHNvcnRBdHRyaWJ1dGUgPT09IFwiY2hhcnRWYWx1ZVwiICYmIGNoYXJ0VmFsdWUuc29ydGFibGUpIHtcbiAgICAgICAgICAgIHNvcnRJbnN0cnMgPSBbW2NoYXJ0VmFsdWUuaWQsIHNvcnRPcmRlcl1dO1xuICAgICAgICB9IGVsc2UgaWYgKGN1c3RvbVNvcnRPcmRlciAmJiBjdXN0b21Tb3J0T3JkZXIuc29ydGFibGUpIHtcbiAgICAgICAgICAgIHNvcnRJbnN0cnMgPSBbW2N1c3RvbVNvcnRPcmRlci5pZCwgc29ydE9yZGVyXV07XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5zZXRTb3J0T3JkZXIoc29ydEluc3Rycyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25DbGljayhpbmRleCkge1xuICAgICAgICBjb25zdCBkb251dEFjdGlvbiA9IGJ1dHRvbkFjdGlvbi5nZXQoY29udGV4dC5pdGVtc1tpbmRleF0pO1xuICAgICAgICBpZiAoZG9udXRBY3Rpb24gJiYgZG9udXRBY3Rpb24uY2FuRXhlY3V0ZSkge1xuICAgICAgICAgICAgZG9udXRBY3Rpb24uZXhlY3V0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2VnbWVudFRvdGFsTGVuZ3RoKGluZGV4LCBzdGFydEFuZ2xlKSB7XG4gICAgICAgIGNvbnN0IHRoaXNUb3RhbCA9IChwcmVTZWdtZW50c1RvdGFsTGVuZ3RoICogMzYwKSAvIHRvdGFsICsgc3RhcnRBbmdsZTtcbiAgICAgICAgcHJlU2VnbWVudHNUb3RhbExlbmd0aCArPSBnZXRDaGFydE51bWJlclZhbHVlKGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHRoaXNUb3RhbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByb3RhdGVQZXJjZW50YWdlKGluZGV4KSB7XG4gICAgICAgIGNvbnN0IHRoaXNUb3RhbCA9IHNlZ21lbnRUb3RhbExlbmd0aChpbmRleCwgMCkgKyAoZ2V0Q2hhcnROdW1iZXJWYWx1ZShpbmRleCkgKiAzNjApIC8gdG90YWwgLyAyO1xuICAgICAgICBwZXJjZW50YWdlUm90YXRlLnB1c2godGhpc1RvdGFsKTtcbiAgICAgICAgcmV0dXJuIHRoaXNUb3RhbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRUZXh0Q29sb3IoYmdDb2xvcikge1xuICAgICAgICB2YXIgY29sb3IgPSBiZ0NvbG9yLmNoYXJBdCgwKSA9PT0gXCIjXCIgPyBiZ0NvbG9yLnN1YnN0cmluZygxLCA3KSA6IGJnQ29sb3I7XG4gICAgICAgIHZhciByID0gcGFyc2VJbnQoY29sb3Iuc3Vic3RyaW5nKDAsIDIpLCAxNik7IC8vIGhleFRvUlxuICAgICAgICB2YXIgZyA9IHBhcnNlSW50KGNvbG9yLnN1YnN0cmluZygyLCA0KSwgMTYpOyAvLyBoZXhUb0dcbiAgICAgICAgdmFyIGIgPSBwYXJzZUludChjb2xvci5zdWJzdHJpbmcoNCwgNiksIDE2KTsgLy8gaGV4VG9CXG4gICAgICAgIHJldHVybiByICogMC4yOTkgKyBnICogMC41ODcgKyBiICogMC4xMTQgPiAxODYgPyBcIiMwMDBcIiA6IFwiI2ZmZlwiO1xuICAgIH1cblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQuc3RhdHVzID09PSBcImF2YWlsYWJsZVwiICYmIGNvbnRleHQuaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2V0U29ydE9yZGVyKCk7XG4gICAgICAgICAgICBjYWxjVG90YWwoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5zdGF0dXMgPT09IFwiYXZhaWxhYmxlXCIgJiYgY29udGV4dC5pdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZXRDYW5SZW5kZXIodHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9LCBbY29udGV4dCwgY29sb3JzXSk7XG5cbiAgICBpZiAoY2FuUmVuZGVyKSB7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IDE1LjkxNTQ5NDMwOTE4OTUyO1xuICAgICAgICBjb25zdCBjaXJjdW1mZXJlbmNlID0gMiAqIE1hdGguUEkgKiByYWRpdXM7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2ltcGxlLWRvbnV0LWNoYXJ0LXdpZGdldFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhcnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIHtkaXNwbGF5UGVyY2VudGFnZXMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkb251dC1wZXJjZW50YWdlc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb250ZXh0Lml0ZW1zLm1hcCgoaXRlbSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpdGVtfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZG9udXQtcGVyY2VudGFnZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHJvdGF0ZSgke3JvdGF0ZVBlcmNlbnRhZ2UoaW5kZXgpfWRlZykgdHJhbnNsYXRlKC01MCUsIC01MCUpYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGByb3RhdGUoLSR7cGVyY2VudGFnZVJvdGF0ZVtpbmRleF19ZGVnKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvcnNbaW5kZXhdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGdldFRleHRDb2xvcihjb2xvcnNbaW5kZXhdLnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBnZXRUZXh0Q29sb3IoY29sb3JBcnJheVtpbmRleF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KGdldENoYXJ0TnVtYmVyVmFsdWUoaW5kZXgpIC8gdG90YWwpICogMTAwID49IDUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7TWF0aC5yb3VuZCgoZ2V0Q2hhcnROdW1iZXJWYWx1ZShpbmRleCkgLyB0b3RhbCkgKiAxMDApfSVgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRvbnV0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgNDAgNDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlc2VydmVBc3BlY3RSYXRpbz1cInhNaW5ZTWluIG1lZXRcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y29udGV4dC5pdGVtcy5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2l0ZW19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17ZWxlbWVudCA9PiAoY29udGFpbmVyUmVmLmN1cnJlbnRbaW5kZXhdID0gZWxlbWVudCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9e2BzaW1wbGVkb251dGNoYXJ0LWluZGV4LSR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoKSA9PiBzaG93VG9vbHRpcChpbmRleCwgY29udGFpbmVyUmVmLmN1cnJlbnRbaW5kZXhdKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoKSA9PiBoaWRlVG9vbHRpcChpbmRleCwgY29udGFpbmVyUmVmLmN1cnJlbnRbaW5kZXhdKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gYnV0dG9uQWN0aW9uICYmIG9uQ2xpY2soaW5kZXgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjeD1cIjIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3k9XCIyMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRvbnV0LXNsaWNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcj17cmFkaXVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD17c3Ryb2tlV2lkdGh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZT17YHZhcigtLWRvbnV0Y2hhcnQtY29sb3ItJHtbaW5kZXhdfSwgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yc1tpbmRleF0gPyBjb2xvcnNbaW5kZXhdLnZhbHVlIDogY29sb3JBcnJheVtpbmRleF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VEYXNoYXJyYXk9e2NpcmN1bWZlcmVuY2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZURhc2hvZmZzZXQ9e2NpcmN1bWZlcmVuY2UgLSAoY2lyY3VtZmVyZW5jZSAqIGdldENoYXJ0TnVtYmVyVmFsdWUoaW5kZXgpKSAvIHRvdGFsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm09e2Byb3RhdGUoJHtzZWdtZW50VG90YWxMZW5ndGgoaW5kZXgsIC05MCl9IDIwIDIwKWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaW1wbGUtZG9udXQtY2hhcnQtaW5mb1wiPlxuICAgICAgICAgICAgICAgICAgICB7KGRpc3BsYXlUb3RhbCB8fCBsZWdlbmRUaXRsZSkgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZG9udXRjaGFydC10b3RhbCB0ZXh0LWxhcmdlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2Rpc3BsYXlUb3RhbCAmJiB1bml0UG9zaXRpb24gPT09IFwiYmVmb3JlXCIgJiYgdW5pdCAmJiB1bml0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsZWdlbmRUaXRsZSAmJiBsZWdlbmRUaXRsZS5zdGF0dXMgPT09IFwiYXZhaWxhYmxlXCIgJiYgYCR7bGVnZW5kVGl0bGUudmFsdWV9IGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2Rpc3BsYXlUb3RhbCAmJiB0b3RhbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZGlzcGxheVRvdGFsICYmIHVuaXRQb3NpdGlvbiA9PT0gXCJhZnRlclwiICYmIHVuaXQgJiYgdW5pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPXtgZG9udXRjaGFydC1sZWdlbmRgfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjb250ZXh0Lml0ZW1zLm1hcCgoaXRlbSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpdGVtfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPXtgZG9udXRjaGFydC1sZWdlbmQtaW5kZXgtJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHNob3dIZ2hsaWdodFBhcnQoY29udGFpbmVyUmVmLmN1cnJlbnRbaW5kZXhdKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoKSA9PiBoaWRlSGlnaGxpZ2h0UGFydChjb250YWluZXJSZWYuY3VycmVudFtpbmRleF0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBgdmFyKC0tZG9udXRjaGFydC1jb2xvci0ke1tpbmRleF19LCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcnNbaW5kZXhdID8gY29sb3JzW2luZGV4XS52YWx1ZSA6IGNvbG9yQXJyYXlbaW5kZXhdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD57Y2hhcnROYW1lLmdldChjb250ZXh0Lml0ZW1zW2luZGV4XSkuZGlzcGxheVZhbHVlfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Rpc3BsYXlWYWx1ZXMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZG9udXRjaGFydC12YWx1ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1bml0UG9zaXRpb24gPT09IFwiYmVmb3JlXCIgJiYgdW5pdCAmJiB1bml0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjaGFydFZhbHVlLmdldChjb250ZXh0Lml0ZW1zW2luZGV4XSkuZGlzcGxheVZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1bml0UG9zaXRpb24gPT09IFwiYWZ0ZXJcIiAmJiB1bml0ICYmIHVuaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRvbnV0Y2hhcnQtdG9vbHRpcFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9e2VsZW1lbnQgPT4gKHRvb2x0aXBSZWYuY3VycmVudFtpbmRleF0gPSBlbGVtZW50KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+e2NoYXJ0TmFtZS5nZXQoY29udGV4dC5pdGVtc1tpbmRleF0pLmRpc3BsYXlWYWx1ZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZGlzcGxheVZhbHVlcyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZG9udXRjaGFydC12YWx1ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dW5pdFBvc2l0aW9uID09PSBcImJlZm9yZVwiICYmIHVuaXQgJiYgdW5pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NoYXJ0VmFsdWUuZ2V0KGNvbnRleHQuaXRlbXNbaW5kZXhdKS5kaXNwbGF5VmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1bml0UG9zaXRpb24gPT09IFwiYWZ0ZXJcIiAmJiB1bml0ICYmIHVuaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiZG9udXRjaGFydC13aWRnZXRcIj48L2Rpdj47XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbInN0eWxlSW5qZWN0IiwiY3NzIiwicmVmIiwiaW5zZXJ0QXQiLCJkb2N1bWVudCIsImhlYWQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJmaXJzdENoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwiU2ltcGxlRG9udXRDaGFydCIsImJ1dHRvbkFjdGlvbiIsImNvbnRleHQiLCJjaGFydFZhbHVlIiwiY29sb3JzIiwiY3VzdG9tU29ydE9yZGVyIiwiY2hhcnROYW1lIiwiZGlzcGxheVBlcmNlbnRhZ2VzIiwiZGlzcGxheVRvdGFsIiwiZGlzcGxheVZhbHVlcyIsImxlZ2VuZFRpdGxlIiwic29ydEF0dHJpYnV0ZSIsInNvcnRPcmRlciIsInVuaXQiLCJ1bml0UG9zaXRpb24iLCJjYW5SZW5kZXIiLCJzZXRDYW5SZW5kZXIiLCJ1c2VTdGF0ZSIsImNvbnRhaW5lclJlZiIsInVzZVJlZiIsInRvb2x0aXBSZWYiLCJjb2xvckFycmF5IiwidG90YWwiLCJzZXRUb3RhbCIsInN0cm9rZVdpZHRoIiwicGVyY2VudGFnZVJvdGF0ZSIsImN1cnJlbnRJbmRleCIsInByZVNlZ21lbnRzVG90YWxMZW5ndGgiLCJzb3J0SW5zdHJzIiwic2V0VG9vbHRpcFBvc2l0aW9uIiwiZXZlbnQiLCJjdXJzb3JTaXplIiwieCIsInBhZ2VYIiwieSIsInBhZ2VZIiwiY3VycmVudCIsInNldFByb3BlcnR5IiwiZ2V0Q2hhcnROdW1iZXJWYWx1ZSIsImluZGV4IiwicmF3VmFsdWUiLCJnZXQiLCJpdGVtcyIsImRpc3BsYXlWYWx1ZSIsIk51bWJlciIsInJlcGxhY2UiLCJzaG93SGdobGlnaHRQYXJ0IiwiY3VycmVudENvbnRhaW5lciIsImhpZGVIaWdobGlnaHRQYXJ0Iiwic2hvd1Rvb2x0aXAiLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiaGlkZVRvb2x0aXAiLCJyZW1vdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2FsY1RvdGFsIiwidG90YWxzIiwibWFwIiwiaXRlbSIsInB1c2giLCJyZWR1Y2UiLCJhIiwiYiIsInNldFNvcnRPcmRlciIsInNvcnRhYmxlIiwiaWQiLCJvbkNsaWNrIiwiZG9udXRBY3Rpb24iLCJjYW5FeGVjdXRlIiwiZXhlY3V0ZSIsInNlZ21lbnRUb3RhbExlbmd0aCIsInN0YXJ0QW5nbGUiLCJ0aGlzVG90YWwiLCJyb3RhdGVQZXJjZW50YWdlIiwiZ2V0VGV4dENvbG9yIiwiYmdDb2xvciIsImNvbG9yIiwiY2hhckF0Iiwic3Vic3RyaW5nIiwiciIsInBhcnNlSW50IiwiZyIsInVzZUVmZmVjdCIsInN0YXR1cyIsImxlbmd0aCIsInJhZGl1cyIsImNpcmN1bWZlcmVuY2UiLCJNYXRoIiwiUEkiLCJ0cmFuc2Zvcm0iLCJ2YWx1ZSIsInJvdW5kIiwiZWxlbWVudCIsImJhY2tncm91bmRDb2xvciJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFTQSxXQUFULENBQXFCQyxHQUFyQixFQUEwQkMsR0FBMUIsRUFBK0I7QUFDN0IsTUFBS0EsR0FBRyxLQUFLLEtBQUssQ0FBbEIsRUFBc0JBLEdBQUcsR0FBRyxFQUFOO0FBQ3RCLE1BQUlDLFFBQVEsR0FBR0QsR0FBRyxDQUFDQyxRQUFuQjs7QUFFQSxNQUFJLENBQUNGLEdBQUQsSUFBUSxPQUFPRyxRQUFQLEtBQW9CLFdBQWhDLEVBQTZDO0FBQUU7QUFBUzs7QUFFeEQsTUFBSUMsSUFBSSxHQUFHRCxRQUFRLENBQUNDLElBQVQsSUFBaUJELFFBQVEsQ0FBQ0Usb0JBQVQsQ0FBOEIsTUFBOUIsRUFBc0MsQ0FBdEMsQ0FBNUI7QUFD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
